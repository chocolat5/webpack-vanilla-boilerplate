// ================================================= */
// Mixins
// ================================================= */

//
// @include mixin-name($value)
//

// Mediaquery
// Container
// Arrow
// Background image for thumbnail
// Boxshadow
// clearfix
// Center element
// Typography
// Grid


//* Mediaquery
// --------------------------------------- */
//@include mq(mobile)
@mixin mq($point) {
  @if map-has-key($breakpoints, $point) {
    @media screen and (min-width: map-get($breakpoints, $point)) {
      @content;
    }
  }

  @else {
    @media screen and (min-width: $point) { @content; }
  }
}





//* Container
// --------------------------------------- */
// 最大幅あり
@mixin container {
  padding: 0 $pd-sm;
  margin: 0 auto;

  @include mq($main + 64px) {
    max-width: $main;
    padding: 0;
  }
}

// 最大幅なし
@mixin container-liquid {
  padding: $pd-sec-sm $pd-sm;

  @include mq(mid) {
    padding: $pd-sec-mid $pd-mid;
  }
}





//* Arrow
// --------------------------------------- */
@mixin arrow($width, $bold, $color, $deg) {
  position: absolute;
  top: calc(50% - calc(#{$width '*' .7 '/'} 2));
  border-style: solid;
  border-width: 0 $bold $bold 0;
  content: '';
  display: inline-block;
  height: $width;
  width: $width;
  border-color: $color;

  //角度
  @if ( $deg == "left" )        { transform: rotate(135deg); }
  @else if ( $deg == "top" )    { transform: rotate(225deg); }
  @else if ( $deg == "right" )  { transform: rotate(-45deg); }
  @else if ( $deg == "bottom" ) { transform: rotate(45deg);  }

  //SPの時
  @include mq(sm) {
    width: calc(#{$width '/'} 2);
    height: calc(#{$width '/'} 2);
  }
}



//* Background image for thumbnail
// --------------------------------------- */
//@include aspect-ratio-img($width, $height, $image: null);
@mixin aspect-ratio-img( $width, $height, $default-image: null ) {
  display: block;
  width: 100%;
  height: 0;
  padding-top: ($height / $width) * 100%;

  @if $default-image != null {
    background: url($default-image) no-repeat 50% 50%;
    background-size: cover;
  }

  @else {
    background-repeat: no-repeat;
    background-position: 50% 50%;
    background-size: cover;
  }
}



//* Boxshadow
// --------------------------------------- */
//@include box-shadow(8px, 8px);
@mixin box-shadow( $h: 0 , $v: 0 , $b: 0 , $s: 0 , $c: #000 ) {
  box-shadow: $h $v $b $s $c;
}



//* clearfix
// --------------------------------------- */
//@extend %clearfix;
@mixin clearfix {
  *zoom: 1;

  &:before,
  &:after {
    content: ' ';
    display: table;
  }

  &:after { clear: both; }
}



//* before / after element
// --------------------------------------- */
//@include pseudo-element;
//@include pseudo-element('foo', relative);
@mixin pseudo-element($content: '', $position: absolute, $display: block) {
  position: $position;
  content: $content;
  display: $display;
}



//* Center element
// --------------------------------------- */
//@include vertical-align;
@mixin vertical-align {
  position: relative;
  top: 50%;
  transform: translateY(-50%);
}



//* Typography
// --------------------------------------- */
//@include vertical-align;
@mixin headline-base($size) {
  margin-bottom: map-get($headlines-mb-s, $size);
  font-size: map-get($headlines-s, $size);
  font-weight: $font-weight-head;
  line-height: map-get($headlines-line-height, $size);

  @include mq(sm) {
    margin-bottom: map-get($headlines-mb, $size);
    font-size: map-get($headlines, $size);
  }
}

//@include fs_vw(13, 320);
// p {
//   font-size: 13px;
//   font-size: 4.0625vw;
// }

@mixin fs_vw($font_size: 10, $viewport: 375) {
  font-size: $font_size * 1px;
  font-size: get_vw($font_size, $viewport);
}



//* Grid
// --------------------------------------- */
@mixin grid($columns, $spacing, $rows: auto) {
  display: grid;

  @if $columns == 1 {
    grid-template-columns: 1fr;
    grid-template-rows: $rows;
    grid-gap: $spacing;
  }

  @else if $columns == 2 {
    grid-template-columns: 1fr 1fr;
    grid-template-rows: $rows;
    grid-gap: $spacing;
  }

  @else {
    grid-template-columns: repeat($columns, 1fr);
    grid-template-rows: $rows;
    grid-gap: $spacing;
  }
}

